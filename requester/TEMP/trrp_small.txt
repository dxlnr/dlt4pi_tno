trrp_small(ApplicantInfo,"ok"):-
residence_permit_granted_with_effect_from_the_day_on_which_the_foreign_national_has_demonstrated_that_he_fulfils_all_the_conditions(ApplicantInfo),
N_alien_has_a_travel_ban_or_has_been_signaled_for_the_purpose_of_refusing_entry(ApplicantInfo,Ok1),
N_alien_has_pronouncement_of_undesirability(ApplicantInfo,Ok2).

residence_permit_granted_with_effect_from_the_day_on_which_the_foreign_national_has_demonstrated_that_he_fulfils_all_the_conditions(ApplicantInfo):-
foreign_national_has_demonstrated_that_he_fulfils_all_the_conditions_of_a_temporary_residence_permit(ApplicantInfo),
day_on_which_the_alien_has_demonstrated_that_he_fulfils_all_the_conditions_of_temporary_residence_permit(ApplicantInfo,TimeStampFulfils),
N_day_on_which_the_foreign_national_has_demonstrated_that_he_meets_all_the_conditions_of_a_prior_period_before_the_day_on_which_the_application_is_received(ApplicantInfo,TimeStampFulfils,Ok3).

foreign_national_has_demonstrated_that_he_fulfils_all_the_conditions_of_a_temporary_residence_permit(ApplicantInfo):-
alien_has_a_facial_image_and_ten_fingerprints_taken(ApplicantInfo,Ok4),
foreign_national_satisfies_conditions_for_the_granting_of_a_vvr_bep(ApplicantInfo).

foreign_national_satisfies_conditions_for_the_granting_of_a_vvr_bep(ApplicantInfo):-
N_alien_constitutes_a_danger_to_public_policy_or_national_security(ApplicantInfo,Ok5),
N_foreign_national_will_owe_a_fee_for_processing_an_application(ApplicantInfo,Ok6),
foreign_national_has_a_valid_provisional_residence_permit(ApplicantInfo,Ok7),
foreign_national_has_a_basic_level_of_knowledge_of_the_Dutch_language_and_Dutch_society(ApplicantInfo,Ok8),
foreign_national_has_a_valid_border_crossing_document(ApplicantInfo,Ok9),
foreign_national_is_prepared_to_cooperate_in_a_medical_examination(ApplicantInfo,Ok10),
purpose_for_which_the_stay_is_authorised(ApplicantInfo).

purpose_for_which_the_stay_is_authorised(ApplicantInfo):-
intra_corporate_transfer(ApplicantInfo,Ok11),
seasonal_employment(ApplicantInfo,Ok12),
work_as_a_highly_skilled_migrant(ApplicantInfo,Ok13),
residence_as_a_family_member(ApplicantInfo,Ok14),
residence_as_an_EU_Blue_Card_holder(ApplicantInfo,Ok15),
study(ApplicantInfo,Ok16),
exchange(ApplicantInfo,Ok17).
